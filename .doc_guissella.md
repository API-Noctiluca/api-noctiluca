
### Test método GET 
1. **Creación** primero de una mariposa de prueba.  
2. Se hace la **petición**.  
3. Se comprueba que la **respuesta** tenga status `200`.  
4. Comprueba que el **objeto devuelto** tenga los valores actualizados.  
5. Confirma que la **mariposa** se ha actualizado en la base de datos.

### Test método GET/id 
1. **Creación** primero de una mariposa de prueba antes de cada test.  
2. Se hace la **petición** usando la ruta con el **id** de esa mariposa.  
3. Se comprueba que la **respuesta** tenga status `200` y que sea un **objeto** con los datos correctos.    
4. Comprueba que los **campos devueltos** coincidan con lo que creaste.

### Test método POST 
1. Se prepara los datos de la mariposa de prueba para su **creación**.  
2. Se hace la **petición** con esos datos.  
3. Se comprueba que la **respuesta** tenga status `201`.  
4. Comprueba que la respuesta contenga el **objeto creado** con los valores correctos.  
5. Confirma que la **mariposa** se ha guardado en la base de datos.

### Test método PUT

1. **Creación** primero de una mariposa de prueba.  
2. Se hace la **petición** a esa mariposa (con el **id**) con datos nuevos.  
3. Se comprueba que la **respuesta** tenga status `200`.  
4. Comprueba que el **objeto devuelto** tenga los valores actualizados.  
5. Confirma que la **mariposa** se ha actualizado en la base de datos. 

### Test método DELETE 
- Pasos del flujo del test
1. **Creación** primero de una mariposa de prueba.
    - Usamos ButterflyModel.create({...}) con datos falsos.
    - Guardamos el **id** generado para usarlo en la petición.
2. Se hace la **petición** a esa mariposa.  
    - Se ejecuta: request(app).delete(`/api/butterflies/${createdButterfly.id}`).send()
3. Se comprueba la **respuesta** de la API.  
    - El test valida que:
        - El status devuelto sea **200**.
        - El **Content-Type incluya application/json .
        - El body contenga el mensaje: "Butterfly deleted successfully"
4. Verifica que el registro fue eliminado en la base de datos.
    - Se hace una consulta: const foundButterfly = await ButterflyModel.findOne({ where: { id: createdButterfly.id } })
    - Se espera que el resultado sea null, lo que confirma que la mariposa fue eliminada correctamente.
5. Confirma que la **mariposa** se ha actualizado en la base de datos.
